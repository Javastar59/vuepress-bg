(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{220:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("作为一种新兴的虚拟化方式，Docker 跟传统的虚拟化方式相比具有众多的优势。")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("由于容器不需要进行硬件虚拟以及运行完整操作系统等额外开销，Docker 对系统资源的利用率更高。无论是应用执行速度、内存损耗或者文件存储速度，都要比传统虚拟机技术更高效。因此，相比虚拟机技术，一个相同配置的主机，往往可以运行更多数量的应用。")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("传统的虚拟机技术启动应用服务往往需要数分钟，而 Docker 容器应用，由于直接运行于宿主内核，无需启动完整的操作系统，因此可以做到秒级、甚至毫秒级的启动时间。大大的节约了开发、测试、部署的时间。")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("由于 Docker 确保了执行环境的一致性，使得应用的迁移更加容易。Docker 可以在很多平台上运行，无论是物理机、虚拟机、公有云、私有云，甚至是笔记本，其运行结果是一致的。因此用户可以很轻易的将在一个平台上运行的应用，迁移到另一个平台上，而不用担心运行环境的变化导致应用无法正常运行的情况。")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("Docker 使用的分层存储以及镜像的技术，使得应用重复部分的复用更为容易，也使得应用的维护更新更加简单，基于基础镜像进一步扩展镜像也变得非常简单。此外，Docker 团队同各个开源项目团队一起维护了一大批高质量的官方镜像，既可以直接在生产环境使用，又可以作为基础进一步定制，大大的降低了应用服务的镜像制作成本。")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),s("p",[t._v("执行以下命令安装依赖包：")]),t._v(" "),t._m(17),s("p",[t._v("鉴于国内网络问题，强烈建议使用国内源，官方源请在注释中查看。")]),t._v(" "),t._m(18),t._v(" "),t._m(19),s("p",[t._v("如果需要最新版本的 Docker CE 请使用以下命令：")]),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),s("p",[t._v("在测试或开发环境中 Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，CentOS 系统上可以使用这套脚本安装：")]),t._v(" "),t._m(25),s("p",[t._v("执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker CE 的 Edge 版本安装在系统中。")]),t._v(" "),t._m(26),t._v(" "),t._m(27),t._m(28),t._v(" "),s("p",[t._v("国内从 Docker Hub 拉取镜像有时会遇到困难，此时可以配置镜像加速器。Docker 官方和国内很多云服务商都提供了国内加速器服务，例如：")]),t._v(" "),s("ol",[s("li",[s("p",[s("a",{attrs:{href:"https://docs.docker.com/registry/recipes/mirror/#use-case-the-china-registry-mirror",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 官方提供的中国 registry mirror"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://cr.console.aliyun.com/#/accelerator",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云加速器"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://www.daocloud.io/mirror#accelerator-doc",target:"_blank",rel:"noopener noreferrer"}},[t._v("DaoCloud 加速器"),s("OutboundLink")],1)])])]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),s("p",[t._v("之后重新启动服务。")]),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://cdn.star59.top/bg/20190311/v0NXKLNc4wOF.jpg",alt:"docker"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_1-什么是-docker？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是-docker？","aria-hidden":"true"}},[this._v("#")]),this._v(" 1) 什么是 Docker？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Docker")]),this._v(" 是一个开放源代码软件项目，项目主要代码在2013年开源于 "),e("a",{attrs:{href:"https//github.com/moby/moby"}},[this._v("GitHub")]),this._v("。它是云服务技术上的一次创新，让应用程序布署在软件容器下的工作可以自动化进行，借此在 Linux 操作系统上，提供一个额外的软件抽象层，以及操作系统层虚拟化的自动管理机制。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"更高效的利用系统资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更高效的利用系统资源","aria-hidden":"true"}},[this._v("#")]),this._v(" 更高效的利用系统资源")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"更快速的启动时间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更快速的启动时间","aria-hidden":"true"}},[this._v("#")]),this._v(" 更快速的启动时间")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"一致的运行环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一致的运行环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 一致的运行环境")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("开发过程中一个常见的问题是环境一致性问题。由于开发环境、测试环境、生产环境不一致，导致有些 bug 并未在开发过程中被发现。而 Docker 的镜像提供了除内核外完整的运行时环境，确保了应用运行环境一致性，从而不会再出现 "),e("em",[this._v("「这段代码在我机器上没问题啊」")]),this._v(" 这类问题。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"更轻松的迁移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更轻松的迁移","aria-hidden":"true"}},[this._v("#")]),this._v(" 更轻松的迁移")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"更轻松的维护和扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更轻松的维护和扩展","aria-hidden":"true"}},[this._v("#")]),this._v(" 更轻松的维护和扩展")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"对比传统虚拟机总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对比传统虚拟机总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 对比传统虚拟机总结")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("特性")]),t._v(" "),s("th",[t._v("容器")]),t._v(" "),s("th",[t._v("虚拟机")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("启动")]),t._v(" "),s("td",[t._v("秒级")]),t._v(" "),s("td",[t._v("分钟级")])]),t._v(" "),s("tr",[s("td",[t._v("硬盘使用")]),t._v(" "),s("td",[t._v("一般为 "),s("code",[t._v("MB")])]),t._v(" "),s("td",[t._v("一般为 "),s("code",[t._v("GB")])])]),t._v(" "),s("tr",[s("td",[t._v("性能")]),t._v(" "),s("td",[t._v("接近原生")]),t._v(" "),s("td",[t._v("弱于")])]),t._v(" "),s("tr",[s("td",[t._v("系统支持量")]),t._v(" "),s("td",[t._v("单机支持上千个容器")]),t._v(" "),s("td",[t._v("一般几十个")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-centos-安装-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-centos-安装-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 2) CentOS 安装 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10。 CentOS 7 满足最低内核的要求，但由于内核版本比较低，部分功能（如 "),e("code",[this._v("overlay2")]),this._v(" 存储层驱动）无法使用，并且部分功能可能不太稳定。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"卸载旧版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本","aria-hidden":"true"}},[this._v("#")]),this._v(" 卸载旧版本")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("旧版本的 Docker 称为 "),e("code",[this._v("docker")]),this._v(" 或者 "),e("code",[this._v("docker-engine")]),this._v("，使用以下命令卸载旧版本：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用-yum-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-yum-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 yum 安装")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y yum-utils \\\n           device-mapper-persistent-data \\\n           lvm2\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("执行下面的命令添加 "),e("code",[this._v("yum")]),this._v(" 软件源：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum-config-manager \\\n    --add-repo \\\n    https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum-config-manager --enable docker-ce-edge\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"安装-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("更新 "),e("code",[this._v("yum")]),this._v(" 软件源缓存，并安装 "),e("code",[this._v("docker-ce")]),this._v("。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum makecache fast\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用脚本自动安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本自动安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用脚本自动安装")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL get.docker.com -o get-docker.sh\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" sh get-docker.sh --mirror Aliyun\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"启动-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动 Docker CE")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("enable")]),t._v(" docker\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl start docker\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-镜像加速器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像加速器","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 镜像加速器")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("对于使用centos的系统，请在 "),e("code",[this._v("/etc/docker/daemon.json")]),this._v(" 中写入如下内容")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.docker-cn.com"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("注意，一定要保证该文件符合 json 规范，否则 Docker 将不能启动。")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart docker\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("注意：如果您之前查看旧教程，修改了 "),e("code",[this._v("docker.service")]),this._v(" 文件内容，请去掉您添加的内容（"),e("code",[this._v("--registry-mirror=https://registry.docker-cn.com")]),this._v("），这里不再赘述。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"检查加速器是否生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查加速器是否生效","aria-hidden":"true"}},[this._v("#")]),this._v(" 检查加速器是否生效")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("配置加速器之后，如果拉取镜像仍然十分缓慢，请手动检查加速器配置是否生效，在命令行执行 "),e("code",[this._v("docker info")]),this._v("，如果从结果中看到了如下内容，说明配置成功。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("Registry Mirrors:\n https://registry.docker-cn.com/\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])}],!1,null,null,null);e.default=a.exports}}]);